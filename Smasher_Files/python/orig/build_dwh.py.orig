import sys, os, csv

from org.opentreeoflife.taxa import Taxonomy, SourceTaxonomy, Taxon
from org.opentreeoflife.smasher import UnionTaxonomy

dwh = UnionTaxonomy.newTaxonomy('dwh')

#use this to load the taxonomies
trunk = Taxonomy.getTaxonomy('t/tax/trunk_20170614/', 'trunk')
ictv = Taxonomy.getTaxonomy('t/tax/ictv_v2/', 'ictv')
ioc = Taxonomy.getTaxonomy('t/tax/ioc-birdlist_v2/', 'IOC')
amp = Taxonomy.getTaxonomy('t/tax/amphibia_v2/', 'AMP')
ppg = Taxonomy.getTaxonomy('t/tax/ppg12016_v2/', 'PPG')
lhw = Taxonomy.getTaxonomy('t/tax/liverhornwort/', 'lhw')
tpl = Taxonomy.getTaxonomy('t/tax/plant_dwca/', 'TPL')
odo = Taxonomy.getTaxonomy('t/tax/odonata/', 'ODO')
orth = Taxonomy.getTaxonomy('t/tax/dwca-orthoptera-v12.6/', 'ORTH')
pso = Taxonomy.getTaxonomy('t/tax/dwca-psocodea-v8.6/', 'PSO')
aph = Taxonomy.getTaxonomy('t/tax/dwca-aphid-v8.6/', 'APH')
cor = Taxonomy.getTaxonomy('t/tax/dwca-coreoidea-v8.6/', 'COR')
lyg = Taxonomy.getTaxonomy('t/tax/dwca-lygaeoidea-v1.0/', 'LYG')
col = Taxonomy.getTaxonomy('t/tax/dwca-coleorrhyncha-v9.6/', 'COL')
man = Taxonomy.getTaxonomy('t/tax/dwca-mantophasmatodea-v1.4/', 'MAN')
emb = Taxonomy.getTaxonomy('t/tax/dwca-embioptera-v8.6/', 'EMB')
gry = Taxonomy.getTaxonomy('t/tax/dwca-grylloblattodea-v1.4/', 'GRY')
ple = Taxonomy.getTaxonomy('t/tax/dwca-plecoptera-v8.6/', 'PLE')
der = Taxonomy.getTaxonomy('t/tax/dwca-dermaptera-v8.6/', 'DER')
mnt = Taxonomy.getTaxonomy('t/tax/dwca-mantodea-v8.6/', 'MNT')
pha = Taxonomy.getTaxonomy('t/tax/dwca-phasmida-v10.6/', 'PHA')
zor = Taxonomy.getTaxonomy('t/tax/dwca-zoraptera-v1.4/', 'ZOR')
bla = Taxonomy.getTaxonomy('t/tax/dwca-blattodea-v8.8/', 'BLA')
ter = Taxonomy.getTaxonomy('t/tax/termites/', 'TER')
spi = Taxonomy.getTaxonomy('t/tax/spiders_v2/', 'SPI')
eet = Taxonomy.getTaxonomy('t/tax/earthworms_v2/', 'EET')
ony = Taxonomy.getTaxonomy('t/tax/onychophora_v2/', 'ONY')
wor = Taxonomy.getTaxonomy('t/tax/worms_v4/', 'WOR')
gbif = Taxonomy.getTaxonomy('t/tax/gbif_v1/', 'gbif')

#Use this to prune unwanted branches out of worms
wor.taxon('Araneae').trim()
wor.taxon('Clitellata').trim()

#Use this to tell smasher what separation file to use
dwh.setSkeleton(Taxonomy.getTaxonomy('tax/separation/', 'separation'))

#Use this to absorb one taxonomy into another
alignment = dwh.alignment(trunk)
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
	print root
alignment = dwh.alignment(ictv)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(ioc)
alignment.same(ioc.taxon('Paleognathae'), dwh.taxon('Palaeognathae'))
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(amp)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(ppg)
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
        print root
alignment = dwh.alignment(lhw)
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
        print root
alignment = dwh.alignment(tpl)
alignment.same(tpl.taxon('Apleniaceae'), dwh.taxon('Aspleniaceae'))
alignment.same(tpl.taxon('Dryopteridaceae'), dwh.taxon('Dipteridacae'))
alignment.same(tpl.taxon('Anarthriaceae'), dwh.taxon('Restionaceae'))
alignment.same(tpl.taxon('Centrolepidaceae'), dwh.taxon('Restionaceae'))
alignment.same(tpl.taxon('Compositae'), dwh.taxon('Asteraceae'))
alignment.same(tpl.taxon('Haptanthaceae'), dwh.taxon('Buxaceae'))
alignment.same(tpl.taxon('Hydnoraceae'), dwh.taxon('Aristolochiaceae'))
alignment.same(tpl.taxon('Lactoridaceae'), dwh.taxon('Aristolochiaceae'))
alignment.same(tpl.taxon('Leguminosae'), dwh.taxon('Fabaceae'))
alignment.same(tpl.taxon('Melianthaceae'), dwh.taxon('Francoaceae'))
alignment.same(tpl.taxon('Vivianiaceae'), dwh.taxon('Francoaceae'))
alignment.same(tpl.taxon('Xanthorrhoeaceae'), dwh.taxon('Asphodelaceae'))
alignment.same(tpl.taxon('Hypertelis acida'), dwh.taxon('Kewa acida'))
alignment.same(tpl.taxon('Hypertelis angrae-pequenae'), dwh.taxon('Kewa angrae-pequenae'))
alignment.same(tpl.taxon('Hypertelis arenicola'), dwh.taxon('Kewa arenicola'))
alignment.same(tpl.taxon('Hypertelis bowkeriana'), dwh.taxon('Kewa bowkeriana'))
alignment.same(tpl.taxon('Hypertelis caespitosa'), dwh.taxon('Kewa caespitosa'))
alignment.same(tpl.taxon('Hypertelis salsoloides'), dwh.taxon('Kewa salsoloides'))
alignment.same(tpl.taxon('Hypertelis suffruticosa'), dwh.taxon('Kewa suffruticosa'))
alignment.same(tpl.taxon('Hypertelis trachysperma'), dwh.taxon('Kewa trachysperma'))
alignment.same(tpl.taxon('Hypertelis salsoloides var. mossamedensis'), dwh.taxon('Kewa salsolides var. mossamedensis'))
alignment.same(tpl.taxon('Jubulopsaceae'), dwh.taxon('Lepidolaenaceae'))
alignment.same(tpl.taxon('Mesoptychiaceae'), dwh.taxon('Jungermanniaceae'))
alignment.same(tpl.taxon('Chaetophyllopsaceae'), dwh.taxon('Cephaloziellaceae'))
alignment.same(tpl.taxon('Wardiaceae'), dwh.taxon('Dicranaceae'))
alignment.same(tpl.taxon('Mizutaniaceae'), dwh.taxon('Calypogeiaceae'))
alignment.same(tpl.taxon('Cyrtopodaceae'), dwh.taxon('Hypnodendraceae'))
alignment.same(tpl.taxon('Balantiopsaceae'), dwh.taxon('Balantiopsidaceae'))
alignment.same(tpl.taxon('Vetaformaceae'), dwh.taxon('Lepicoleaceae'))
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
	print root
alignment = dwh.alignment(odo)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(orth)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(pso)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(aph)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(cor)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(lyg)
alignment.same(lyg.taxon('Astacops'), dwh.taxon('Astacops'))
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(col)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(man)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(emb)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(gry)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(ple)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(der)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(mnt)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(pha)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(zor)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(bla)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(ter)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(spi)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(eet)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(ony)
dwh.align(alignment)
dwh.merge(alignment)
alignment = dwh.alignment(wor)
alignment.same(wor.taxon('Cephalorhyncha'), dwh.taxon('Scalidophora'))
alignment.same(wor.taxon('Codonosiga'), dwh.taxon('Codosiga'))
alignment.same(wor.taxon('Kentrosiga'), dwh.taxon('Desmarella'))
alignment.same(wor.taxon('Protozoa'), dwh.taxon('Eukaryota'))
alignment.same(wor.taxon('Chromista'), dwh.taxon('Eukaryota'))
alignment.same(wor.taxon('Pteridophyta'), dwh.taxon('Polypodiopsida'))
alignment.same(wor.taxon('Pteridophytina'), dwh.taxon('Polypodiopsida'))
alignment.same(wor.taxon('Heterokonta'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Bigyra'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Equisetopsida'), dwh.taxon('Equisetidae'))
alignment.same(wor.taxon('Psilotopsida'), dwh.taxon('Ophioglossidae'))
alignment.same(wor.taxon('Bicosidia'), dwh.taxon('Bicosoecida'))
alignment.same(wor.taxon('Placidiida'), dwh.taxon('Placidida'))
alignment.same(wor.taxon('Placidiaceae'), dwh.taxon('Placidiidae'))
alignment.same(wor.taxon('Opalozoa'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Sagenista'), dwh.taxon('Labyrinthulomycetes'))
alignment.same(wor.taxon('Choanozoa'), dwh.taxon('Opisthokonta'))
alignment.same(wor.taxon('Choanofila'), dwh.taxon('Opisthokonta'))
alignment.same(wor.taxon('Choanoflagellatea'), dwh.taxon('Choanomonada'))
alignment.same(wor.taxon('Cristidiscoidia'), dwh.taxon('Nucletmycea'))
alignment.same(wor.taxon('Cristidiscoidea'), dwh.taxon('Nucletmycea'))
alignment.same(wor.taxon('Ochrophyta'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Oomycota'), dwh.taxon('Peronosporomycetes'))
alignment.same(wor.taxon('Bacillariophyceae'), dwh.taxon('Diatomea'))
alignment.same(wor.taxon('Khakista'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Phaeista'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Limnista'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Monista'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Hypogyristia'), dwh.taxon('Stramenopiles'))
alignment.same(wor.taxon('Raphidoistia'), dwh.taxon('Raphidophyceae'))
alignment.same(wor.taxon('Coscinodiscophycidae'), dwh.taxon('Coscinodiscophytina'))
alignment.same(wor.taxon('Bacillariophycidae'), dwh.taxon('Bacillariophytina'))
alignment.same(wor.taxon('Eozoa'), dwh.taxon('Excavata'))
alignment.same(wor.taxon('Hacrobia'), dwh.taxon('Eukaryota'))
alignment.same(wor.taxon('Sarcomastigota'), dwh.taxon('Eukaryota'))
alignment.same(wor.taxon('Ascorhynchoidea family incertae sedis'), dwh.taxon('Ascorhynchoidea'))
alignment.same(wor.taxon('Eunicida fossil incertae sedis'), dwh.taxon('unplaced extinct Eunicida'))
alignment.same(wor.taxon('Trebouxiophyceae ordo incertae sedis'), dwh.taxon('Trebouxiophyceae'))
alignment.same(wor.taxon('Monostromataceae'), dwh.taxon('Gomontiaceae'))
alignment.same(wor.taxon('Thysanura'), dwh.taxon('Zygentoma'))
alignment.same(wor.taxon('Lathrididae'), dwh.taxon('Latridiidae'))
alignment.same(wor.taxon('Apionidae'), dwh.taxon('Brentidae'))
alignment.same(wor.taxon('Spirochaetes'), dwh.taxon('Spirochaetae'))
alignment.same(wor.taxon('Eudromidia'), dwh.taxon('Eudromia'))
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
	print root
alignment = dwh.alignment(gbif)
alignment.same(gbif.taxon('Brontornithidae'), dwh.taxon('Phorusrhacidae'))
alignment.same(gbif.taxon('Codonodesmus'), dwh.taxon('Desmarella'))
alignment.same(gbif.taxon('Cryptista'), dwh.taxon('Cryptophyceae'))
alignment.same(gbif.taxon('Peronosporea'), dwh.taxon('Peronosporomycetes'))
alignment.same(gbif.taxon('Tubificidae'), dwh.taxon('Naididae'))
alignment.same(gbif.taxon('Anobiidae'), dwh.taxon('Ptinidae'))
alignment.same(gbif.taxon('Aphodiidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Bolboceratidae'), dwh.taxon('Geotrupidae'))
alignment.same(gbif.taxon('Bruchidae'), dwh.taxon('Chrysomelidae'))
alignment.same(gbif.taxon('Cetoniidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Colydiidae'), dwh.taxon('Zopheridae'))
alignment.same(gbif.taxon('Dasytidae'), dwh.taxon('Melyridae'))
alignment.same(gbif.taxon('Malachiidae'), dwh.taxon('Melyridae'))
alignment.same(gbif.taxon('Dynastidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Eccoptarthridae'), dwh.taxon('Nemonychidae'))
alignment.same(gbif.taxon('Eobelidae'), dwh.taxon('Nemonychidae'))
alignment.same(gbif.taxon('Epimetopidae'), dwh.taxon('Hydrophilidae'))
alignment.same(gbif.taxon('Aulonocnemidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Cryptolaryngidae'), dwh.taxon('Brachyceridae'))
alignment.same(gbif.taxon('Aclopidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Aegialiidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Propalticidae'), dwh.taxon('Laemophloeidae'))
alignment.same(gbif.taxon('Eremazidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Erirhinidae'), dwh.taxon('Brachyceridae'))
alignment.same(gbif.taxon('Euchiridae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Eurhynchidae'), dwh.taxon('Brentidae'))
alignment.same(gbif.taxon('Georyssidae'), dwh.taxon('Hydrophilidae'))
alignment.same(gbif.taxon('Helophoridae'), dwh.taxon('Hydrophilidae'))
alignment.same(gbif.taxon('Hydrochidae'), dwh.taxon('Hydrophilidae'))
alignment.same(gbif.taxon('Ithyceridae'), dwh.taxon('Brentidae'))
alignment.same(gbif.taxon('Lasiosynidae'), dwh.taxon('Cantharidae'))
alignment.same(gbif.taxon('Melolonthidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Nanophyidae'), dwh.taxon('Brentidae'))
alignment.same(gbif.taxon('Orphnidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Oxycorynidae'), dwh.taxon('Belidae'))
alignment.same(gbif.taxon('Pachypodidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Paralucanidae'), dwh.taxon('Lucanidae'))
alignment.same(gbif.taxon('Pselaphidae'), dwh.taxon('Staphylinidae'))
alignment.same(gbif.taxon('Raymondionymidae'), dwh.taxon('Brachyceridae'))
alignment.same(gbif.taxon('Rhipiphoridae'), dwh.taxon('Ripiphoridae'))
alignment.same(gbif.taxon('Rhynchitidae'), dwh.taxon('Attelabidae'))
alignment.same(gbif.taxon('Rutelidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Scydmaenidae'), dwh.taxon('Staphylinidae'))
alignment.same(gbif.taxon('Sperheidae'), dwh.taxon('Hydrophilidae'))
alignment.same(gbif.taxon('Termitotrogidae'), dwh.taxon('Scarabaeidae'))
alignment.same(gbif.taxon('Tetrameropseidae'), dwh.taxon('Latridiidae'))
alignment.same(gbif.taxon('Anisopidae'), dwh.taxon('Anisopodidae'))
alignment.same(gbif.taxon('Fungivoritidae'), dwh.taxon('Pleciofungivoridae'))
alignment.same(gbif.taxon('Heteromyzidae'), dwh.taxon('Heleomyzidae'))
alignment.same(gbif.taxon('Mesothaumaleidae'), dwh.taxon('Thaumaleidae'))
alignment.same(gbif.taxon('Microphoridae'), dwh.taxon('Dolichopodidae'))
alignment.same(gbif.taxon('Mycetobiidae'), dwh.taxon('Anisopodidae'))
alignment.same(gbif.taxon('Otitidae'), dwh.taxon('Ulidiidae'))
alignment.same(gbif.taxon('Pleciomimidae'), dwh.taxon('Antefungivoridae'))
alignment.same(gbif.taxon('Protobrachyerontidae'), dwh.taxon('Vermileonidae'))
alignment.same(gbif.taxon('Pseudopomyzidae'), dwh.taxon('Cypselosomatidae'))
alignment.same(gbif.taxon('Rhaetomyiidae'), dwh.taxon('Chaoboridae'))
alignment.same(gbif.taxon('Rhyphidae'), dwh.taxon('Anisopodidae'))
alignment.same(gbif.taxon('Sciadoceridae'), dwh.taxon('Phoridae'))
alignment.same(gbif.taxon('Nycteribiidae'), dwh.taxon('Hippoboscidae'))
alignment.same(gbif.taxon('Streblidae'), dwh.taxon('Hippoboscidae'))
alignment.same(gbif.taxon('Strongylophthalmyiidae'), dwh.taxon('Tanypezidae'))
alignment.same(gbif.taxon('Austremerellidae'), dwh.taxon('Ephemerellidae'))
alignment.same(gbif.taxon('Aneuridae'), dwh.taxon('Aradidae'))
alignment.same(gbif.taxon('Biturritiidae'), dwh.taxon('Aetalionidae'))
alignment.same(gbif.taxon('Cantacaderidae'), dwh.taxon('Tingidae'))
alignment.same(gbif.taxon('Cicadoprosbolidae'), dwh.taxon('Tettigarctidae'))
alignment.same(gbif.taxon('Dipsidae'), dwh.taxon('Diaspididae'))
alignment.same(gbif.taxon('Eumenotidae'), dwh.taxon('Dinidoridae'))
alignment.same(gbif.taxon('Jassidae'), dwh.taxon('Cicadellidae'))
alignment.same(gbif.taxon('Eumenidae'), dwh.taxon('Vespidae'))
alignment.same(gbif.taxon('Scelionidae'), dwh.taxon('Platygastridae'))
alignment.same(gbif.taxon('Eucoilidae'), dwh.taxon('Figitidae'))
alignment.same(gbif.taxon('Anthophoridae'), dwh.taxon('Apidae'))
alignment.same(gbif.taxon('Arctiidae'), dwh.taxon('Erebidae'))
alignment.same(gbif.taxon('Ctenuchidae'), dwh.taxon('Erebidae'))
alignment.same(gbif.taxon('Crinopterygidae'), dwh.taxon('Incurvariidae'))
alignment.same(gbif.taxon('Danaidae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Lemoniidae'), dwh.taxon('Brahmaeidae'))
alignment.same(gbif.taxon('Libytheidae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Lymantriidae'), dwh.taxon('Erebidae'))
alignment.same(gbif.taxon('Oxytenidae'), dwh.taxon('Saturniidae'))
alignment.same(gbif.taxon('Pantheidae'), dwh.taxon('Noctuidae'))
alignment.same(gbif.taxon('Satyridae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Symmocidae'), dwh.taxon('Autostichidae'))
alignment.same(gbif.taxon('Mirinidae'), dwh.taxon('Endromidae'))
alignment.same(gbif.taxon('Holcopogonidae'), dwh.taxon('Autostichidae'))
alignment.same(gbif.taxon('Ethmiidae'), dwh.taxon('Depressariidae'))
alignment.same(gbif.taxon('Heliconidae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Heliconiidae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Ithomiidae'), dwh.taxon('Nymphalidae'))
alignment.same(gbif.taxon('Dexiidae'), dwh.taxon('Tachinidae'))
alignment.same(gbif.taxon('Biturritidae'), dwh.taxon('Aetalionidae'))
alignment.same(gbif.taxon('Heliozoa'), dwh.taxon('Eukaryota'))
alignment.same(gbif.taxon('Haplosporea'), dwh.taxon('Haplosporida'))
alignment.same(gbif.taxon('Triceromerycidae'), dwh.taxon('Palaeomerycidae'))
alignment.same(gbif.taxon('Entolodontidae'), dwh.taxon('Entelodontidae'))
alignment.same(gbif.taxon('Eurhinodelphidae'), dwh.taxon('Eurhinodelphinidae'))
alignment.same(gbif.taxon('Rhabdosteidae'), dwh.taxon('Eurhinodelphinidae'))
alignment.same(gbif.taxon('Hyperoodontidae'), dwh.taxon('Ziphiidae'))
alignment.same(gbif.taxon('Trigonodontidae'), dwh.taxon('Trigonodontoidae'))
alignment.same(gbif.taxon('Crassodontidanidae'), dwh.taxon('Crassonotidae'))
alignment.same(gbif.taxon('Callorhynchidae'), dwh.taxon('Callorhinchidae'))
alignment.same(gbif.taxon('Rhinochimaeridae'), dwh.taxon('Rhinochimaeroidae'))
alignment.same(gbif.taxon('Helicellidae'), dwh.taxon('Hygromiidae'))
alignment.same(gbif.taxon('Patulidae'), dwh.taxon('Discidae'))
alignment.same(gbif.taxon('Ferrussaciidae'), dwh.taxon('Ferussaciidae'))
alignment.same(gbif.taxon('Cionellidae'), dwh.taxon('Cochlicopidae'))
alignment.same(gbif.taxon('Monostromataceae'), dwh.taxon('Gomontiaceae'))
alignment.same(gbif.taxon('Hydrochaeridae'), dwh.taxon('Hydrochoerinae'))
alignment.same(gbif.taxon('Hydrochoeridae'), dwh.taxon('Hydrochoerinae'))
alignment.same(gbif.taxon('Capromyidae'), dwh.taxon('Capromyini'))
alignment.same(gbif.taxon('Archeopteryx'), dwh.taxon('Archaeopteryx'))
alignment.same(gbif.taxon('Nitrospira'), dwh.taxon('Nitrospirae'))
dwh.align(alignment)
dwh.merge(alignment)
for root in Taxonomy.roots(dwh):
	print root

dwh.dump('test/')
